[gd_scene load_steps=25 format=3 uid="uid://dhueqp7hbvjsh"]

[ext_resource type="Script" path="res://main.gd" id="1_eq4gh"]
[ext_resource type="PackedScene" uid="uid://dpgthkhorl37h" path="res://rock.tscn" id="2_08gi6"]
[ext_resource type="PackedScene" uid="uid://crb3c0haniqbg" path="res://ship.tscn" id="3_nqarc"]
[ext_resource type="PackedScene" uid="uid://ji8060ukvech" path="res://rock_2.tscn" id="3_uixen"]
[ext_resource type="PackedScene" uid="uid://tfveq64regpu" path="res://rock_3.tscn" id="4_5708y"]
[ext_resource type="Script" path="res://ui_manager.gd" id="4_qh1ot"]
[ext_resource type="Script" path="res://score_timer.gd" id="5_4i5in"]
[ext_resource type="PackedScene" uid="uid://d3ygwatbyxchn" path="res://rock_4.tscn" id="5_6iix7"]
[ext_resource type="PackedScene" uid="uid://boji3orkcojk6" path="res://rock_5.tscn" id="6_g6cxs"]
[ext_resource type="PackedScene" uid="uid://cddkeqoi1ukv5" path="res://rock_6.tscn" id="7_hrk1a"]
[ext_resource type="AudioStream" uid="uid://3ujd2uvs1uw4" path="res://pirate_song.wav" id="8_hs8p7"]
[ext_resource type="Texture2D" uid="uid://d4iyoyddrncql" path="res://Sprites/Animations/Water.png" id="8_v4e3j"]
[ext_resource type="Texture2D" uid="uid://07fgyw2a52lo" path="res://Sprites/3_hearts.png" id="8_xgtbm"]
[ext_resource type="Theme" uid="uid://dygcq71aof11w" path="res://button_theme.tres" id="12_siimd"]
[ext_resource type="Texture2D" uid="uid://dql1o0lfvix6a" path="res://Sprites/pirate_tempo.png" id="12_x03nu"]
[ext_resource type="FontFile" uid="uid://cumhqen57amwa" path="res://at01.ttf" id="13_14br3"]
[ext_resource type="Script" path="res://label.gd" id="14_be05f"]
[ext_resource type="Script" path="res://time_slow.gd" id="17_sba7k"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_qqhny"]
texture = ExtResource("8_v4e3j")
texture_region_size = Vector2i(128, 128)
0:0/animation_columns = 2
0:0/animation_frame_0/duration = 1.0
0:0/animation_frame_1/duration = 1.0
0:0/animation_frame_2/duration = 1.0
0:0/animation_frame_3/duration = 1.0
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_4a45y"]
sources/0 = SubResource("TileSetAtlasSource_qqhny")

[sub_resource type="AtlasTexture" id="AtlasTexture_6o1lw"]
atlas = ExtResource("12_x03nu")
region = Rect2(80, 80, 80, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_2v5uk"]
atlas = ExtResource("12_x03nu")
region = Rect2(0, 0, 80, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_1x1mt"]
atlas = ExtResource("12_x03nu")
region = Rect2(80, 0, 80, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_v4kog"]
atlas = ExtResource("12_x03nu")
region = Rect2(0, 80, 80, 40)

[sub_resource type="SpriteFrames" id="SpriteFrames_di4ub"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6o1lw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2v5uk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1x1mt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v4kog")
}],
"loop": true,
"name": &"default",
"speed": 1.9
}]

[node name="Main" type="Node"]
script = ExtResource("1_eq4gh")
rock_scene = ExtResource("2_08gi6")
rock_scene2 = ExtResource("3_uixen")
rock_scene3 = ExtResource("4_5708y")
rock_scene4 = ExtResource("5_6iix7")
rock_scene5 = ExtResource("6_g6cxs")
rock_scene6 = ExtResource("7_hrk1a")

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_4a45y")
format = 2
layer_0/tile_data = PackedInt32Array(196611, 0, 0, 196619, 0, 0, 196627, 0, 0, 196635, 0, 0, 196643, 0, 0, 196651, 0, 0, 196659, 0, 0, 196667, 0, 0, 196675, 0, 0, 196683, 0, 0, 720899, 0, 0, 720907, 0, 0, 720915, 0, 0, 720923, 0, 0, 720931, 0, 0, 720939, 0, 0, 720947, 0, 0, 720955, 0, 0, 720963, 0, 0, 720971, 0, 0, 1245187, 0, 0, 1245195, 0, 0, 1245203, 0, 0, 1245211, 0, 0, 1245219, 0, 0, 1245227, 0, 0, 1245235, 0, 0, 1245243, 0, 0, 1245251, 0, 0, 1245259, 0, 0, 1769475, 0, 0, 1769483, 0, 0, 1769491, 0, 0, 1769499, 0, 0, 1769507, 0, 0, 1769515, 0, 0, 1769523, 0, 0, 1769531, 0, 0, 1769539, 0, 0, 1769547, 0, 0, 2293763, 0, 0, 2293771, 0, 0, 2293779, 0, 0, 2293787, 0, 0, 2293795, 0, 0, 2293803, 0, 0, 2293811, 0, 0, 2293819, 0, 0, 2293827, 0, 0, 2293835, 0, 0, 2818051, 0, 0, 2818059, 0, 0, 2818067, 0, 0, 2818075, 0, 0, 2818083, 0, 0, 2818091, 0, 0, 2818099, 0, 0, 2818107, 0, 0, 2818115, 0, 0, 2818123, 0, 0)

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(114, 50)
scale = Vector2(2, 2)
texture = ExtResource("8_xgtbm")

[node name="Tempo_Meter" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(1063, 55)
scale = Vector2(2, 2)
sprite_frames = SubResource("SpriteFrames_di4ub")
autoplay = "default"
frame_progress = 0.138856

[node name="Ship" parent="." instance=ExtResource("3_nqarc")]

[node name="Timer" type="Timer" parent="."]
wait_time = 2.105
autostart = true

[node name="UI_Manager" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
script = ExtResource("4_qh1ot")

[node name="P1_UI" type="GridContainer" parent="UI_Manager"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 75.0
offset_top = -151.0
offset_right = 315.0
offset_bottom = 61.0
grow_vertical = 0
columns = 3

[node name="Control" type="Control" parent="UI_Manager/P1_UI"]
layout_mode = 2

[node name="W" type="Button" parent="UI_Manager/P1_UI"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
theme_override_fonts/font = ExtResource("13_14br3")
theme_override_font_sizes/font_size = 25
toggle_mode = true
text = "W"

[node name="Control2" type="Control" parent="UI_Manager/P1_UI"]
layout_mode = 2

[node name="A" type="Button" parent="UI_Manager/P1_UI"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
theme_override_fonts/font = ExtResource("13_14br3")
theme_override_font_sizes/font_size = 25
toggle_mode = true
text = "A"

[node name="S" type="Button" parent="UI_Manager/P1_UI"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
theme_override_fonts/font = ExtResource("13_14br3")
theme_override_font_sizes/font_size = 25
toggle_mode = true
text = "S"

[node name="D" type="Button" parent="UI_Manager/P1_UI"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
theme_override_fonts/font = ExtResource("13_14br3")
theme_override_font_sizes/font_size = 25
toggle_mode = true
text = "D"

[node name="P2_UI" type="GridContainer" parent="UI_Manager"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 932.0
offset_top = -151.0
offset_right = 1172.0
offset_bottom = 61.0
grow_vertical = 0
columns = 3

[node name="Control" type="Control" parent="UI_Manager/P2_UI"]
layout_mode = 2

[node name="Up" type="Button" parent="UI_Manager/P2_UI"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
theme_override_fonts/font = ExtResource("13_14br3")
theme_override_font_sizes/font_size = 25
toggle_mode = true
text = "↑"

[node name="Control2" type="Control" parent="UI_Manager/P2_UI"]
layout_mode = 2

[node name="Left" type="Button" parent="UI_Manager/P2_UI"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
theme_override_fonts/font = ExtResource("13_14br3")
theme_override_font_sizes/font_size = 25
toggle_mode = true
text = "←"

[node name="Down" type="Button" parent="UI_Manager/P2_UI"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
theme_override_fonts/font = ExtResource("13_14br3")
theme_override_font_sizes/font_size = 25
toggle_mode = true
text = "↓"

[node name="Right" type="Button" parent="UI_Manager/P2_UI"]
custom_minimum_size = Vector2(50, 50)
layout_mode = 2
theme_override_fonts/font = ExtResource("13_14br3")
theme_override_font_sizes/font_size = 25
toggle_mode = true
text = "→"

[node name="Label" type="Label" parent="UI_Manager"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -42.0
offset_top = -84.0
offset_right = 74.0
offset_bottom = -43.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("12_siimd")
theme_override_fonts/font = ExtResource("13_14br3")
theme_override_font_sizes/font_size = 50
text = "SCORE: "
script = ExtResource("14_be05f")

[node name="Score_Timer" type="Timer" parent="."]
wait_time = 0.05
autostart = true
script = ExtResource("5_4i5in")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("8_hs8p7")

[node name="TimeSlow" type="Node" parent="."]
script = ExtResource("17_sba7k")

[connection signal="death" from="Ship" to="." method="_on_ship_death"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="timeout" from="Timer" to="Ship" method="_on_timer_timeout"]
[connection signal="timeout" from="Score_Timer" to="Score_Timer" method="_on_timeout"]
